import React, {Component} from 'react';
import './navbar.css';
import AddBookButton from "./addBookButton";
import { getUserIsSignInState } from '../../userSelector'
import {connect} from "react-redux";
import {logOutSuccess} from "actions/authenticate";

class NavbarMenu extends Component {
constructor(props) {
    super(props);
}

    render() {
        return (
            <div className="container">
                <div className="header-nav">
                    <ul className="nav nav-pills">
                        <img src="/uploads/logo.png" className="logo"/>
                        <li>
                            <a href="/">Main</a>
                        </li>
                        <li>
                            <a href="/basket">Category</a>
                        </li>
                        <li>
                            <a href="">About</a>
                        </li>
                        <li>
                            <a href="">Contacts</a>
                        </li>

                        <li>
                            <AddBookButton />
                        </li>
                        <li style={{display: this.props.show ? 'block': 'none'}}>
                            <a href="/" onClick = {this.props.logOut}>Log out</a>
                        </li>
                        <li className="dropdown authoriz">
                            <a className="dropdown-toggle" data-toggle="dropdown" href="#">
                                Authorization <span className="caret"></span>
                            </a>
                            <ul className="dropdown-menu">
                                <li>
                                    <a data-toggle="modal" data-target="#auth-popup">Log in</a>
                                </li>
                                <li>
                                    <a data-toggle="modal" data-target="#registr-popup">Sign up</a>
                                </li>
                            </ul>
                        </li>
                    </ul>

                </div>
            </div>
        );
    }
}

export  default connect(
    state => ({
        show: getUserIsSignInState(state)
    }),
    dispatch => ({
        logOut: () => dispatch(logOutSuccess())
    })
)(NavbarMenu);